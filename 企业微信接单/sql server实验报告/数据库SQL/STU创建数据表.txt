CREATE TABLE students (
  id               INT PRIMARY KEY,
  first_name       VARCHAR(20),
  last_name        VARCHAR(20),
  major            VARCHAR(30),
  current_credits  INT
  );

INSERT INTO students (id, first_name, last_name, major,
                      current_credits)
  VALUES (10000, 'Scott', 'Smith',
          'Computer Science', 11);

INSERT INTO students (id, first_name, last_name, major,
                      current_credits)
  VALUES (10001, 'Margaret', 'Mason',
          'History', 4);

INSERT INTO students (id, first_name, last_name, major,
                       current_credits)
  VALUES (10002, 'Joanne', 'Junebug',
           'Computer Science', 8);

INSERT INTO students (id, first_name, last_name, major,
                       current_credits)
  VALUES (10003, 'Manish', 'Murgatroid',
           'Economics', 8);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES(10004, 'Patrick', 'Poll',
           'History', 4);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES (10005, 'Timothy', 'Taller',
           'History', 4);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES (10006, 'Barbara', 'Blues',
           'Economics', 7);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES (10007, 'David', 'Dinsmore',
           'Music', 4);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES (10008, 'Ester', 'Elegant',
           'Nutrition', 8);

INSERT INTO students(id, first_name, last_name, major,
                       current_credits)
  VALUES (10009, 'Rose', 'Riznit',
           'Music', 7);

INSERT INTO STUDENTS(id, first_name, last_name, major,
                       current_credits)
  VALUES (10010, 'Rita', 'Razmataz',
           'Nutrition', 8);

INSERT INTO students(id, first_name, last_name, major,
                        current_credits)
  VALUES (10011, 'Shay', 'Shariatpanahy',
           'Computer Science', 3);



CREATE TABLE major_stats (
  major          VARCHAR(30),
  total_credits  INT,
  total_students INT);

INSERT INTO major_stats (major, total_credits, total_students)
  VALUES ('Computer Science', 22, 3);

INSERT INTO major_stats (major, total_credits, total_students)
  VALUES ('History', 12, 3);

INSERT INTO major_stats (major, total_credits, total_students)
  VALUES ('Economics', 15, 2);

INSERT INTO major_stats (major, total_credits, total_students)
  VALUES ('Music', 11, 2);

INSERT INTO major_stats (major, total_credits, total_students)
  VALUES ('Nutrition', 16, 2);


CREATE TABLE rooms (
  room_id          INT PRIMARY KEY,
  building         VARCHAR(15),
  room_number      INT,
  number_seats     INT,
  description      VARCHAR(50)
  );

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20000, 'Building 7', 201, 1000,
          'Large Lecture Hall');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20002, 'Building 6', 101, 500,
          'Small Lecture Hall');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20003, 'Building 6', 150, 50,
          'Discussion Room A');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20004, 'Building 6', 160, 50,
          'Discussion Room B');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20005, 'Building 6', 170, 50,
         'Discussion Room C');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20006, 'Music Building', 100, 10,
         'Music Practice Room');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20007, 'Music Building', 200, 1000,
          'Concert Room');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20008, 'Building 7', 300, 75,
          'Discussion Room D');

INSERT INTO rooms (room_id, building, room_number, number_seats,
                   description)
  VALUES (20001, 'Building 7', 310, 50,
          'Discussion Room E');


CREATE TABLE classes (
  department       CHAR(3),
  course           INT,
  description      VARCHAR(2000),
  max_students     INT,
  current_students INT,
  num_credits      INT,
  room_id          INT,
  CONSTRAINT classes_department_course
    PRIMARY KEY (department, course),
  CONSTRAINT classes_room_id
    FOREIGN KEY (room_id) REFERENCES rooms (room_id)
  );

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('HIS', 101, 'History 101', 30, 11, 4, 20000);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('HIS', 301, 'History 301', 30, 0, 4, 20004);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('CS', 101, 'Computer Science 101', 50, 0, 4, 20001);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('ECN', 203, 'Economics 203', 15, 0, 3, 20002);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('CS', 102, 'Computer Science 102', 35, 3, 4, 20003);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('MUS', 410, 'Music 410', 5, 4, 3, 20005);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('ECN', 101, 'Economics 101', 50, 0, 4, 20007);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('NUT', 307, 'Nutrition 307', 20, 2, 4, 20008);

INSERT INTO classes(department, course, description, max_students,
                     current_students, num_credits, room_id)
  VALUES ('MUS', 100, 'Music 100', 100, 0, 3, NULL);




CREATE TABLE registered_students (
  student_id INT NOT NULL,
  department CHAR(3)   NOT NULL,
  course     INT NOT NULL,
  grade      CHAR(1),
  CONSTRAINT rs_grade
    CHECK (grade IN ('A', 'B', 'C', 'D', 'E')),
  CONSTRAINT rs_student_id
    FOREIGN KEY (student_id) REFERENCES students (id),
  CONSTRAINT rs_department_course
    FOREIGN KEY (department, course)
    REFERENCES classes (department, course)
  );

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10000, 'CS', 102, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10002, 'CS', 102, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10003, 'CS', 102, 'C');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10000, 'HIS', 101, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10001, 'HIS', 101, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10002, 'HIS', 101, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10003, 'HIS', 101, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10004, 'HIS', 101, 'C');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10005, 'HIS', 101, 'C');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10006, 'HIS', 101, 'E');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10007, 'HIS', 101, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10008, 'HIS', 101, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10009, 'HIS', 101, 'D');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10010, 'HIS', 101, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10008, 'NUT', 307, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10010, 'NUT', 307, 'A');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10009, 'MUS', 410, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10006, 'MUS', 410, 'E');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10011, 'MUS', 410, 'B');

INSERT INTO registered_students (student_id, department, course,
                                 grade)
  VALUES (10000, 'MUS', 410, 'B');


CREATE TABLE RS_audit (
  change_type    CHAR(1)     NOT NULL,
  changed_by     VARCHAR(8) NOT NULL,
  timestamp      DATETIME        NOT NULL,
  old_student_id INT,
  old_department CHAR(3),
  old_course     INT,
  old_grade      CHAR(1),
  new_student_id INT,
  new_department CHAR(3),
  new_course     INT,
  new_grade      CHAR(1)
  );



CREATE TABLE log_table (
  code             INT,
  message          VARCHAR(200),
  info             VARCHAR(100)
  );



CREATE TABLE temp_table (
  num_col    INT,
  char_col   VARCHAR(60)
  );




CREATE TABLE books (
  catalog_number INT     PRIMARY KEY,
  title          VARCHAR(40),
  author1        VARCHAR(40),
  author2        VARCHAR(40),
  author3        VARCHAR(40),
  author4        VARCHAR(40)
);

INSERT INTO books (catalog_number, title, author1)
  VALUES (1000, 'Oracle8i Advanced PL/SQL Programming',
                'Urman, Scott');

INSERT INTO books (catalog_number, title, author1, author2, author3)
  VALUES (1001, 'Oracle8i: A Beginner''s Guide',
                'Abbey, Michael', 'Corey, Michael J.',
                'Abramson, Ian');

INSERT INTO books (catalog_number, title, author1, author2, author3,
                  author4)
  VALUES (1002, 'Oracle8 Tuning',
                'Corey, Michael J.', 'Abbey, Michael',
                'Dechichio, Daniel J.', 'Abramson, Ian');

INSERT INTO books (catalog_number, title, author1, author2)
  VALUES (2001, 'A History of the World',
                'Arlington, Arlene', 'Verity, Victor');

INSERT INTO books (catalog_number, title, author1)
  VALUES (3001, 'Bach and the Modern World', 'Foo, Fred');

INSERT INTO books (catalog_number, title, author1)
  VALUES (3002, 'Introduction to the Piano',
                'Morenson, Mary');






CREATE TABLE class_material (
  department       CHAR(3),
  course           INT
);


CREATE TABLE library_catalog (
  catalog_number INT,
    FOREIGN KEY (catalog_number) REFERENCES books(catalog_number),
  num_copies     INT,
  num_out        INT
);


